---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import PageHeader from '@sections/content/PageHeader.astro';
import ContactForm from '@forms/ContactForm.astro';
import { Icon } from 'astro-icon/components';
import { siteConfig, contact, contactMethods, contactFAQs } from '@/config';

const office = contact.address;
---

<MarketingLayout
  title={`Contacto - ${siteConfig.name}`}
  description="Ponte en contacto con el equipo de Afinate. Estamos aquí para ayudarte con preguntas sobre nuestra plataforma, precios o soluciones empresariales."
>
  <PageHeader
    title="Ponte en contacto"
    subtitle="¿Tienes una pregunta sobre nuestra solución autónoma? ¿Quieres hablar de soluciones empresariales? Nos encantaría saber de ti."
    align="left"
    maxWidth="lg"
  />

  <section class="py-section bg-surface">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <div>
          <h2 class="text-2xl font-bold text-text mb-8">Envíanos un mensaje</h2>
          <ContactForm />
        </div>

        <div class="space-y-8">
          <!-- Contact Methods -->
          <div>
            <h2 class="text-2xl font-bold text-text mb-4">Otras formas de contactarnos</h2>
            <div class="space-y-3">
              {
                contactMethods.map((method) => (
                  <a
                    href={method.href}
                    class="flex items-center gap-3 text-text-muted hover:text-primary transition-colors group"
                  >
                    <Icon name={method.icon} class="w-5 h-5 text-primary" />
                    <span class="group-hover:underline">{method.value}</span>
                  </a>
                ))
              }
            </div>
          </div>

          <!-- Our Office -->
          <div>
            <h2 class="text-2xl font-bold text-text mb-4">Nuestra oficina</h2>
            <div class="flex items-start gap-3 text-text-muted">
              <Icon name="lucide:map-pin" class="w-5 h-5 text-primary flex-shrink-0 mt-0.5" />
              <address class="not-italic">
                {[office.city, office.state, office.country].filter(Boolean).join(', ')}
              </address>
            </div>
          </div>

          <!-- FAQ Mini -->
          <div>
            <h2 class="text-2xl font-bold text-text mb-4">Preguntas frecuentes</h2>
            <div class="space-y-4">
              {
                contactFAQs.map((faq) => (
                  <div>
                    <h3 class="font-medium text-text">{faq.question}</h3>
                    <p class="text-sm text-text-muted mt-1">{faq.answer}</p>
                  </div>
                ))
              }
            </div>
            <a
              href="/faq"
              class="inline-flex items-center gap-1 text-primary hover:underline mt-4 text-sm font-medium"
            >
              Ver todas las preguntas frecuentes
              <Icon name="lucide:arrow-right" class="w-4 h-4" />
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</MarketingLayout>
