---
import MarketingLayout from '@/layouts/MarketingLayout.astro';
import PageHeader from '@sections/content/PageHeader.astro';
import SecurityBadges from '@sections/pricing/SecurityBadges.astro';
import ValuesSection from '@sections/team/ValuesSection.astro';
import FAQSection from '@sections/content/FAQSection.astro';
import CTA from '@sections/marketing/CTA.astro';
import { siteConfig } from '@/config';

const certifications = [
  {
    name: 'SOC 2 Tipo II',
    icon: 'lucide:shield-check',
    description:
      'Auditoría independiente anual de controles de seguridad, disponibilidad y confidencialidad.',
    href: '#',
  },
  {
    name: 'Cumplimiento GDPR',
    icon: 'lucide:globe',
    description: 'Cumplimiento pleno del Reglamento General de Protección de Datos de la UE.',
    href: '#',
  },
  {
    name: 'ISO 27001',
    icon: 'lucide:award',
    description: 'Sistema de gestión de seguridad de la información certificado.',
    href: '#',
  },
  {
    name: 'Preparado para HIPAA',
    icon: 'lucide:heart-pulse',
    description: 'Acuerdo BAA disponible para organizaciones sanitarias que gestionan datos PHI.',
    href: '#',
  },
  {
    name: 'PCI DSS',
    icon: 'lucide:credit-card',
    description: 'Proveedor de nivel 1 para seguridad de datos de tarjetas de pago.',
    href: '#',
  },
  {
    name: 'Cumplimiento CCPA',
    icon: 'lucide:user-check',
    description: 'Cumplimiento de la Ley de Privacidad del Consumidor de California.',
    href: '#',
  },
];

const securityFeatures = [
  {
    icon: 'lucide:lock',
    title: 'Cifrado en reposo y en tránsito',
    description:
      'Todos los datos se cifran con AES-256 en reposo y TLS 1.3 en tránsito. Tus datos están protegidos en cada paso.',
  },
  {
    icon: 'lucide:key',
    title: 'Inicio de sesión único (SSO)',
    description:
      'Soporte SSO empresarial con SAML 2.0 y OIDC. Integración con Okta, Azure AD, Google Workspace y más.',
  },
  {
    icon: 'lucide:users',
    title: 'Control de acceso por roles',
    description:
      'Permisos granulares con roles personalizados. Controla exactamente quién puede acceder a qué en tu organización.',
  },
  {
    icon: 'lucide:history',
    title: 'Registros de auditoría',
    description:
      'Registros de auditoría completos para todas las acciones. Rastrea quién hizo qué, cuándo y desde dónde.',
  },
  {
    icon: 'lucide:shield',
    title: 'Protección DDoS',
    description:
      'Mitigación DDoS de nivel empresarial en el edge. Tus aplicaciones permanecen en línea durante ataques.',
  },
  {
    icon: 'lucide:scan',
    title: 'Escaneo de vulnerabilidades',
    description:
      'Escaneo de seguridad continuo y pruebas de penetración. Encontramos los problemas antes que los atacantes.',
  },
  {
    icon: 'lucide:database',
    title: 'Residencia de datos',
    description:
      'Elige dónde residen tus datos. Regiones disponibles: EE.UU., UE y Asia-Pacífico.',
  },
  {
    icon: 'lucide:refresh-cw',
    title: 'Copias de seguridad automáticas',
    description: 'Copias de seguridad diarias automatizadas con recuperación puntual. Tus datos siempre están seguros.',
  },
];

const securityFAQs = [
  {
    question: '¿Cómo gestionan el cifrado de datos?',
    answer:
      'Todos los datos se cifran en reposo con AES-256 y en tránsito con TLS 1.3. Las claves se gestionan mediante un servicio dedicado con rotación automática.',
  },
  {
    question: '¿Dónde se almacenan mis datos?',
    answer:
      'Por defecto, los datos se almacenan en nuestros centros de datos en EE.UU. Los clientes Enterprise pueden elegir regiones específicas: UE (Frankfurt), Asia-Pacífico (Singapur) y más.',
  },
  {
    question: '¿Ofrecen BAA para cumplimiento HIPAA?',
    answer:
      'Sí, ofrecemos acuerdos BAA para organizaciones sanitarias en nuestro plan Enterprise. Contacta a ventas para hablar de tus requisitos HIPAA.',
  },
  {
    question: '¿Con qué frecuencia realizan auditorías de seguridad?',
    answer:
      'Sometemos auditorías SOC 2 Tipo II anuales por auditores independientes. También realizamos pruebas de penetración trimestrales y escaneo de vulnerabilidades continuo.',
  },
  {
    question: '¿Qué ocurre en caso de un incidente de seguridad?',
    answer:
      'Tenemos un plan de respuesta a incidentes completo. Los clientes afectados son notificados en 72 horas tras una brecha confirmada. Nuestro equipo de seguridad está disponible 24/7.',
  },
  {
    question: '¿Puedo solicitar un cuestionario o evaluación de seguridad?',
    answer:
      'Sí, proporcionamos SIG, CAIQ y cuestionarios personalizados para clientes Enterprise. Contacta a nuestro equipo de seguridad en afinateia@gmail.com.',
  },
];
---

<MarketingLayout
  title={`Seguridad - ${siteConfig.name}`}
  description="Conoce nuestras prácticas de seguridad, certificaciones de cumplimiento y cómo protegemos tus datos."
>
  <PageHeader
    title="Seguridad en la que puedes confiar"
    subtitle="Nos tomamos la seguridad en serio. Tus datos están protegidos por medidas de nivel empresarial y certificaciones líderes del sector."
  />

  <SecurityBadges
    title="Cumplimiento y certificaciones"
    subtitle="Estándares de seguridad y cumplimiento verificados de forma independiente."
    badges={certifications}
    variant="cards"
    background="muted"
  />

  <ValuesSection
    title="Funcionalidades de seguridad"
    subtitle="Seguridad integrada en cada capa de nuestra plataforma."
    items={securityFeatures}
    variant="with-icon"
    columns={2}
    background="default"
  />

  <section class="py-section bg-surface">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
        <div>
          <h2 class="text-2xl sm:text-3xl font-bold text-text">Seguridad de infraestructura</h2>
          <div class="mt-6 space-y-4 text-text-muted">
            <p>
              Nuestra infraestructura corre en proveedores cloud líderes con certificaciones SOC 2 e ISO 27001.
              Aprovechamos su seguridad física, de red y excelencia operativa.
            </p>
            <p>
              Todos los sistemas se despliegan en redes privadas con reglas de firewall estrictas. El acceso
              a sistemas de producción requiere autenticación multifactor y se registra para auditoría.
            </p>
            <p>
              Mantenemos un plan de recuperación ante desastres completo con pruebas regulares. Nuestra
              infraestructura está diseñada para alta disponibilidad con failover automático en múltiples zonas.
            </p>
          </div>
          <div class="mt-8">
            <a
              href="/contact"
              class="inline-flex items-center px-6 py-3 rounded-md bg-primary text-primary-foreground font-medium hover:bg-primary-dark transition-colors"
            >
              Solicitar documentación de seguridad
            </a>
          </div>
        </div>
        <div class="bg-background rounded-xl border border-border p-8">
          <h3 class="font-semibold text-text mb-6">Contactos de seguridad</h3>
          <div class="space-y-4">
            <div>
              <p class="text-sm text-text-muted">Reportar una vulnerabilidad</p>
              <a href="mailto:afinateia@gmail.com" class="text-primary hover:underline">
                afinateia@gmail.com
              </a>
            </div>
            <div>
              <p class="text-sm text-text-muted">Cuestionarios de seguridad</p>
              <a href="mailto:afinateia@gmail.com" class="text-primary hover:underline">
                afinateia@gmail.com
              </a>
            </div>
            <div>
              <p class="text-sm text-text-muted">Programa de bug bounty</p>
              <a href="#" class="text-primary hover:underline"> Ver detalles del programa → </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <FAQSection
    title="Preguntas frecuentes de seguridad"
    subtitle="Preguntas habituales sobre nuestras prácticas de seguridad."
    faqs={securityFAQs}
    variant="accordion"
    background="default"
  />

  <CTA
    title="¿Necesitas más información?"
    description="Nuestro equipo de seguridad está encantado de hablar de tus requisitos específicos y proporcionar documentación adicional."
    action={{ label: 'Contactar equipo de seguridad', href: '/contact' }}
    background="muted"
  />
</MarketingLayout>
